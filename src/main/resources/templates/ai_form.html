<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>AIフォーム</title>
  <link rel="stylesheet" th:href="@{/css/ai.css}" />
  <!--<style>
    .content-wrapper { max-width: 800px; margin: 40px auto; padding: 16px; }
    textarea { width: 100%; padding: 8px; }
    .actions { margin-top: 12px; display: flex; gap: 12px; }
    button, .link { padding: 8px 14px; }
  </style>-->
  <link rel="stylesheet" th:href="@{/css/ai_result.css}" /> 
</head>
<body>
	<div class="logo-container">
			<img src="/images/logo.png" alt="ロゴ" class="logo-image">
		</div>

	
	
  <div class="content-wrapper">
    <h2>🤖 持ち物提案（AI）フォーム</h2>
    <p>例）「フジロック、2泊3日、雨予報、女性」など条件を書いてね。</p>

    <form th:action="@{/ai/suggest}" method="post" class="ai-form">
      <!-- Spring Security使用時のCSRF（無ければ空で無害） -->
      <input type="hidden" th:name="${_csrf?.parameterName}" th:value="${_csrf?.token}" />
      
	  <!-- 追加：フェス選択（必須） -->
	    <label for="festivalId">フェス：</label>
	    <select id="festivalId" name="festivalId" required>
	      <option value="" disabled selected>---選択---</option>
	      <option th:each="f : ${festivals}"
	              th:value="${f.id}"
	              th:text="${f.fesName}">Fuji Rock</option>
	    </select>
	  
      <label for="prompt">条件・メモ</label>
      <textarea id="prompt" name="prompt" rows="8" th:text="${prompt}"></textarea>

      <div class="actions">
        <button type="submit">AIに相談する</button>
        <a th:href="@{/item/list}" class="link">🧳 持ち物一覧へ戻る</a>
      </div>
    </form>
  </div>
</body>
</html>
